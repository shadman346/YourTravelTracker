<% layout('layouts/boilerplate')%>

<style>
.img-cont{
    max-width: 720px;
    border: coral solid;
    background-color:dimgray;
}
#img-div{
    position: relative;
  text-align: center;
  color: white
}

.checkbox-img{
    position: absolute;
  top: 80%;
  left: 25%;
  transform: translate(-50%, -50%);
}
button{
    color: rgb(223, 251, 255) !important; ;
}
</style>

<form action="/destination/<%= destination._id %>/edit?isVisited=<%= destination.isVisited %>&_method=PUT" method="post" class="m-auto pb-4" enctype="multipart/form-data" style="max-width: 720px;">

<div class="mb-3">
    <label for="title" class="form-label">Destination Name</label>
    <input type="text" class="form-control form-control-md" id="title" name="title" value="<%= destination.title %>" placeholder="Enter Destination Name">
</div>

<div class="mb-3">
    <label for="formFileMultiple" class="form-label">Add images</label>
    <input class="form-control form-control-sm" type="file" name="images" id="formFileMultiple" multiple>
</div>

<label class="form-label">Delete Images</label>
<div class="row m-auto img-cont align-items-center mb-3">
    <% for( let image of destination.images ) { %>
        <div class="col-12 col-sm-6 p-0" id="img-div">
            <img src="<%= image.thumbnail %> " style="max-width: 100%;" alt="">
        
        <div class="checkbox-img">
            <label>
            <input class="form-check-input mt-1" type="checkbox" name="deleteImgs[]" value="<%= image.filename %>"> Delete?
            </label>
        </div>   
        </div>
    <% } %>
</div>
<div class="row w-100 m-auto">
<a class="col-6 " href="/destination/<%=destination._id%>?isVisited=<%=destination.isVisited%>">
    <button class="btn btn-info btn-sm w-100" type="button">Back to Destination</button>
</a>
<a class="col-6">
    <button class="btn btn-primary btn-sm w-100" type="submit">Update</button>
</a>
</div>

</form>